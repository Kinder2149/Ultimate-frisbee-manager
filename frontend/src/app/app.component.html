<div class="app-container" (click)="closeAllDropdowns()">
  <header class="main-header">
    <div class="container">
      <h1>{{ title }}</h1>
      <nav class="main-nav" (click)="$event.stopPropagation()">
        <ul>
          <li><a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">Tableau de bord</a></li>
          
          <!-- Menu déroulant Ajouter -->
          <li class="dropdown add" [class.open]="isDropdownOpen.add">
            <a href="#" class="dropdown-toggle" (click)="toggleDropdown('add', $event)">
              Ajouter
              <mat-icon class="dropdown-icon">expand_more</mat-icon>
            </a>
            <ul class="dropdown-menu" *ngIf="isDropdownOpen.add" style="position: absolute; top: 100%; left: 0; background: white; border: 2px solid #e9ecef; border-radius: 8px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); min-width: 250px; z-index: 99999; display: block;">
              <li><a routerLink="/exercices/ajouter" routerLinkActive="active">Nouvel exercice</a></li>
              <li><a routerLink="/entrainements/nouveau" routerLinkActive="active">Nouvel entraînement</a></li>
              <li><a routerLink="/echauffements/ajouter" routerLinkActive="active">Nouvel échauffement</a></li>
              <li><a routerLink="/situations-matchs/ajouter" routerLinkActive="active">Nouvelle situation</a></li>
            </ul>
          </li>

          <!-- Menu déroulant Exercices -->
          <li class="dropdown exercices" [class.open]="isDropdownOpen.exercices">
            <a href="#" class="dropdown-toggle" (click)="toggleDropdown('exercices', $event)">
              Exercices
              <mat-icon class="dropdown-icon">expand_more</mat-icon>
            </a>
            <ul class="dropdown-menu" *ngIf="isDropdownOpen.exercices" style="position: absolute; top: 100%; left: 0; background: white; border: 2px solid #e9ecef; border-radius: 8px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); min-width: 250px; z-index: 99999; display: block;">
              <li><a routerLink="/exercices" routerLinkActive="active">Tous les exercices</a></li>
              <li><a routerLink="/exercices/ajouter" routerLinkActive="active">Ajouter un exercice</a></li>
              <li><a routerLink="/tags" routerLinkActive="active">Gérer les tags</a></li>
            </ul>
          </li>

          <!-- Menu déroulant Entraînements -->
          <li class="dropdown entrainements" [class.open]="isDropdownOpen.entrainements">
            <a href="#" class="dropdown-toggle" (click)="toggleDropdown('entrainements', $event)">
              Entraînements
              <mat-icon class="dropdown-icon">expand_more</mat-icon>
            </a>
            <ul class="dropdown-menu" *ngIf="isDropdownOpen.entrainements" style="position: absolute; top: 100%; left: 0; background: white; border: 2px solid #e9ecef; border-radius: 8px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); min-width: 250px; z-index: 99999; display: block;">
              <li><a routerLink="/entrainements" routerLinkActive="active">Tous les entraînements</a></li>
              <li><a routerLink="/entrainements/nouveau" routerLinkActive="active">Nouvel entraînement</a></li>
            </ul>
          </li>

          <!-- Menu déroulant Échauffements -->
          <li class="dropdown echauffements" [class.open]="isDropdownOpen.echauffements">
            <a href="#" class="dropdown-toggle" (click)="toggleDropdown('echauffements', $event)">
              Échauffements
              <mat-icon class="dropdown-icon">expand_more</mat-icon>
            </a>
            <ul class="dropdown-menu" *ngIf="isDropdownOpen.echauffements" style="position: absolute; top: 100%; left: 0; background: white; border: 2px solid #e9ecef; border-radius: 8px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); min-width: 250px; z-index: 99999; display: block;">
              <li><a routerLink="/echauffements" routerLinkActive="active">Tous les échauffements</a></li>
              <li><a routerLink="/echauffements/ajouter" routerLinkActive="active">Nouvel échauffement</a></li>
            </ul>
          </li>

          <!-- Menu déroulant Situations/Matchs -->
          <li class="dropdown situations" [class.open]="isDropdownOpen.situations">
            <a href="#" class="dropdown-toggle" (click)="toggleDropdown('situations', $event)">
              Situations/Matchs
              <mat-icon class="dropdown-icon">expand_more</mat-icon>
            </a>
            <ul class="dropdown-menu" *ngIf="isDropdownOpen.situations" style="position: absolute; top: 100%; left: 0; background: white; border: 2px solid #e9ecef; border-radius: 8px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); min-width: 250px; z-index: 99999; display: block;">
              <li><a routerLink="/situations-matchs" routerLinkActive="active">Toutes les situations</a></li>
              <li><a routerLink="/situations-matchs/ajouter" routerLinkActive="active">Nouvelle situation</a></li>
            </ul>
          </li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="main-content">
    <div class="container">
      <router-outlet></router-outlet>
    </div>
  </main>

  <footer class="main-footer">
    <div class="container">
      <p>&copy; 2025 Ultimate Frisbee Manager</p>
    </div>
  </footer>
</div>
