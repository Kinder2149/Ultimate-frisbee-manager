<div class="exercice-list-container">
  <!-- En-tête avec bouton d'ajout -->
  <div class="header">
    <h1>Base de données d'exercices</h1>
    <div class="header-actions">
      <button mat-flat-button color="primary" (click)="onAddExercice()" *ngIf="canCreate">
        <mat-icon>add</mat-icon>
        Ajouter un exercice
      </button>
    </div>
  </div>
  
  <!-- Section de filtres (composant réutilisable) -->
  <app-exercice-filters
    [objectifTags]="objectifTags"
    [travailSpecifiqueTags]="travailSpecifiqueTags"
    [niveauTags]="niveauTags"
    [tempsTags]="tempsTags"
    [formatTags]="formatTags"
    [allTags]="allTags"
    (filtersChange)="onFiltersChange($event)"
  ></app-exercice-filters>
  
  <!-- Message de chargement -->
  <div *ngIf="loading" class="loading-indicator">
    <p>Chargement des exercices...</p>
  </div>
  
  <!-- Message d'erreur -->
  <div *ngIf="errorMessage" class="error-message">
    <p>{{ errorMessage }}</p>
  </div>
  
  <!-- Liste des exercices -->
  <div *ngIf="!loading && !errorMessage" class="exercices-grid">
    <!-- Message si aucun exercice trouvé -->
    <div *ngIf="filteredExercices.length === 0" class="no-results">
      <p>Aucun exercice ne correspond à vos critères de recherche.</p>
    </div>
    
    <!-- Affichage des exercices -->
    <app-exercice-card 
      *ngFor="let exercice of filteredExercices" 
      [exercice]="exercice"
      [canEdit]="canEdit"
      (exerciceDeleted)="onExerciceDeleted($event)"
      (exerciceDuplicated)="onExerciceDuplicated($event)"
      (exerciceUpdated)="onExerciceUpdated($event)"
    ></app-exercice-card>
  </div>
  
  <!-- Emplacement pour les composants enfants (comme le formulaire d'ajout/modification) -->
  <router-outlet></router-outlet>
</div>