<div class="tag-filter-container">
  <div *ngIf="showSearch" class="search-container">
    <mat-form-field appearance="outline" class="search-field">
      <mat-label>Rechercher</mat-label>
      <input matInput [formControl]="searchControl" placeholder="Rechercher un tag">
      <button *ngIf="searchControl.value" matSuffix mat-icon-button aria-label="Effacer" (click)="searchControl.setValue('')">
        <mat-icon>close</mat-icon>
      </button>
      <mat-icon matPrefix>search</mat-icon>
    </mat-form-field>
  </div>
  
  <div *ngIf="showCategoryFilter" class="category-filter">
    <div class="category-label">Filtrer par catégorie:</div>
    <div class="category-chips">
      <mat-chip-listbox aria-label="Filtres de catégories">
        <mat-chip-option 
          *ngFor="let category of categories" 
          [selected]="isCategorySelected(category)"
          [color]="isCategorySelected(category) ? 'primary' : undefined"
          (click)="toggleCategory(category)">
          {{ category }}
        </mat-chip-option>
      </mat-chip-listbox>
    </div>
  </div>
  
  <div class="filter-actions">
    <button mat-button color="primary" (click)="resetFilters()">
      <mat-icon>refresh</mat-icon>
      Réinitialiser les filtres
    </button>
  </div>
</div>
