{
  "phase": "fe-route-dup",
  "branch": "fix/frontend/routes",
  "mode": "modification",
  "timestamp": "2025-11-05T17:30:00Z",
  "summary": "Suppression du doublon de route '/exercices' dans app.module.ts, conservation de la version avec data: { preload: true }.",
  "findings": [
    {
      "file": "frontend/src/app/app.module.ts",
      "occurrences": [
        {"line": 66, "snippet": "path: 'exercices', loadChildren: () => import('./features/exercices/exercices.module')..., data: { preload: true }"},
        {"line": 87, "snippet": "path: 'exercices', loadChildren: () => import('./features/exercices/exercices.module')..."}
      ],
      "decision": "Garder la première (avec preload) et supprimer la seconde."
    }
  ],
  "patch_files": [
    {
      "file": "frontend/src/app/app.module.ts",
      "action": "remove duplicate route",
      "kept": "route with data: { preload: true }",
      "removed_line_range": [86, 90]
    }
  ],
  "tests": {
    "manual": [
      "npm --prefix frontend start (ou ng serve)",
      "Naviguer: /login → se connecter → /exercices → vérifier chargement du module exercices",
      "Naviguer vers autres routes: /entrainements, /echauffements, /situations-matchs"
    ],
    "notes": "La route fallback ** doit rediriger / inconnus vers /login."
  },
  "acceptance": [
    "Le build frontend passe",
    "La navigation vers /exercices fonctionne et précharge le module (préloading activé).",
    "Aucun doublon 'path: \"exercices\"' restant dans le repo"
  ]
}